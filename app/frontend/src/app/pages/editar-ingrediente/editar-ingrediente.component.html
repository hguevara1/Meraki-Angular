<div class="agregar-container">
  <div class="header">
    <button mat-button routerLink="/ingredientes" class="back-button">
      <mat-icon>arrow_back</mat-icon>
      Volver a Ingredientes
    </button>
    <h1>➕ Agregar Nuevo Ingrediente</h1>
  </div>

  <mat-card class="form-card">
    <mat-card-content>
      <form [formGroup]="ingredienteForm" (ngSubmit)="onSubmit()">

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Nombre del Ingrediente</mat-label>
          <input matInput formControlName="nombre" required>
          <mat-error *ngIf="ingredienteForm.get('nombre')?.hasError('required')">
            El nombre es requerido
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Precio (€)</mat-label>
          <input matInput type="number" step="0.01" formControlName="precio">
          <mat-error *ngIf="ingredienteForm.get('precio')?.hasError('min')">
            El precio no puede ser negativo
          </mat-error>
        </mat-form-field>

        <div class="form-row">
          <mat-form-field appearance="fill" class="medida-field">
            <mat-label>Medida</mat-label>
            <input matInput type="number" step="0.1" formControlName="medida" required>
            <mat-error *ngIf="ingredienteForm.get('medida')?.hasError('required')">
              La medida es requerida
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill" class="unidad-field">
            <mat-label>Unidad</mat-label>
            <mat-select formControlName="unidad" required>
              <mat-option *ngFor="let unidad of unidades" [value]="unidad">
                {{unidad}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="form-actions">
          <button mat-button type="button" (click)="cancelar()">
            Cancelar
          </button>
          <button mat-raised-button color="primary" type="submit" [disabled]="!ingredienteForm.valid">
            <mat-icon>save</mat-icon>
            Guardar Ingrediente
          </button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
