<div class="dashboard-container">
  <!-- Header -->
  <app-header></app-header>

  <!-- Main Content -->
  <div class="dashboard-content">

    <!-- Sidebar Navigation - Solo para administradores -->
    <nav class="sidebar" *ngIf="isAdmin">
      <div class="nav-section">
        <h3 class="nav-title">ðŸ“¦ Ingredientes</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/ingredientes/agregar" class="nav-link">
              <mat-icon>add_circle</mat-icon>
              Agregar Ingrediente
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/ingredientes" class="nav-link">
              <mat-icon>list</mat-icon>
              Lista de Ingredientes
            </a>
          </li>
        </ul>
      </div>

      <div class="nav-section">
        <h3 class="nav-title">ðŸŽ‚ Tortas</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/tortas/nueva" class="nav-link">
              <mat-icon>add_circle</mat-icon>
              Nueva Torta
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/tortas" class="nav-link">
              <mat-icon>cake</mat-icon>
              Tortas Disponibles
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/tortas/presupuestos" class="nav-link">
              <mat-icon>receipt</mat-icon>
              Presupuestos
            </a>
          </li>
        </ul>
      </div>

      <div class="nav-section">
        <h3 class="nav-title">ðŸ“‹ Subrecetas</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/subrecetas/agregar" class="nav-link">
              <mat-icon>add_circle</mat-icon>
              Agregar Subreceta
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/subrecetas" class="nav-link">
              <mat-icon>format_list_bulleted</mat-icon>
              Lista de Subrecetas
            </a>
          </li>
        </ul>
      </div>

      <div class="nav-section">
        <h3 class="nav-title">ðŸ“ž Contacto</h3>
        <ul class="nav-list">
          <li class="nav-item">
            <a routerLink="/contacto" class="nav-link">
              <mat-icon>contact_support</mat-icon>
              InformaciÃ³n de Contacto
            </a>
          </li>
          <li class="nav-item">
            <a routerLink="/clientes" class="nav-link">
              <mat-icon>people</mat-icon>
              GestiÃ³n de Clientes
            </a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content" [class.full-width]="!isAdmin">

      <!-- Contenido para Administradores -->
      <div *ngIf="isAdmin">
        <div class="content-header">
          <h2>Panel de Control - Administrador</h2>
          <p>Gestiona tu pastelerÃ­a desde un solo lugar</p>
        </div>

        <div class="stats-cards">
          <mat-card class="stat-card">
            <mat-card-header>
              <mat-card-title>Ingredientes</mat-card-title>
              <mat-icon mat-card-avatar>inventory</mat-icon>
            </mat-card-header>
            <mat-card-content>
              <p class="stat-number">{{totalIngredientes}}</p>
              <p class="stat-label">Total registrados</p>
            </mat-card-content>
          </mat-card>

          <mat-card class="stat-card">
            <mat-card-header>
              <mat-card-title>Tortas</mat-card-title>
              <mat-icon mat-card-avatar>cake</mat-icon>
            </mat-card-header>
            <mat-card-content>
              <p class="stat-number">{{totalTortas}}</p>
              <p class="stat-label">Recetas creadas</p>
            </mat-card-content>
          </mat-card>

          <mat-card class="stat-card">
            <mat-card-header>
              <mat-card-title>Subrecetas</mat-card-title>
              <mat-icon mat-card-avatar>list_alt</mat-icon>
            </mat-card-header>
            <mat-card-content>
              <p class="stat-number">{{totalSubrecetas}}</p>
              <p class="stat-label">Preparaciones</p>
            </mat-card-content>
          </mat-card>
        </div>

        <div class="quick-actions">
          <h3>Acciones RÃ¡pidas</h3>
          <div class="action-buttons">
            <button mat-raised-button color="primary" routerLink="/tortas/nueva">
              <mat-icon>add</mat-icon>
              Crear Nueva Torta
            </button>
            <button mat-raised-button color="accent" routerLink="/ingredientes/agregar">
              <mat-icon>inventory</mat-icon>
              Agregar Ingrediente
            </button>
            <button mat-raised-button color="warn" routerLink="/subrecetas/agregar">
              <mat-icon>list_alt</mat-icon>
              Nueva Subreceta
            </button>
          </div>
        </div>
      </div>

      <!-- Contenido para Usuarios Normales -->
      <div *ngIf="!isAdmin" class="user-dashboard">
        <div class="content-header">
          <h2>Bienvenido a Meraki PastelerÃ­a</h2>
          <p>Hola, {{userEmail}} - Tu cuenta estÃ¡ activa</p>
        </div>

        <mat-card class="welcome-card">
          <mat-card-header>
            <mat-card-title>
              <mat-icon>check_circle</mat-icon>
              Registro Exitoso
            </mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <div class="user-content">
              <mat-icon class="user-icon">person</mat-icon>
              <h3>Tu cuenta ha sido creada correctamente</h3>
              <p>Actualmente tienes acceso como <strong>Usuario</strong></p>
              <p>Para acceder a las funcionalidades completas del sistema, contacta al administrador.</p>

              <div class="user-info">
                <p><strong>Email:</strong> {{userEmail}}</p>
                <p><strong>Rol:</strong> Usuario</p>
                <p><strong>Estado:</strong> <span class="status-active">Activo</span></p>
              </div>

              <div class="support-info">
                <h4>Â¿Necesitas ayuda?</h4>
                <p>Contacta al administrador del sistema para solicitar permisos adicionales.</p>
                <button mat-raised-button color="primary">
                  <mat-icon>contact_support</mat-icon>
                  Contactar Soporte
                </button>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>

    </main>
  </div>
</div>
